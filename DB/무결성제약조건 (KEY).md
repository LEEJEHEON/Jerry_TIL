# λ¬΄κ²°μ„±μ΅”μ•½μ΅°κ±΄ (KEY)

## Key (κΈ°λ³Έν‚¤, ν›„λ³΄ν‚¤, μνΌν‚¤ λ“±λ“±...)

### π’΅ μνΌν‚¤ 
- ν•λ‚ λλ” μ—¬λ¬ μ»¬λΌλ“¤μ μ§‘ν•©μΌλ΅, ν…μ΄λΈ” λ‚΄ λ¨λ“  λ°μ΄ν„°λ“¤μ„μ„ μ μΌν•κ² μ‹λ³„ν•΄μ£Όλ” ν‚¤
- μ μΌμ„±μ€ λ³΄μ¥ν•μ§€λ§, μµμ†μ„±μ€ λ³΄μ¥ν•μ§€ μ•μ (1κ° ν…μ΄λΈ”μ μ—¬λ¬κ°μ μνΌν‚¤κ°€ μ΅΄μ¬ν•  μ μμ)

### π’΅ν›„λ³΄ν‚¤
- μνΌν‚¤μ—μ„ μµμ†μ„±κΉμ§€ λ§μ΅±ν•λ” ν‚¤
- μ μΌμ„±κ³Ό μµμ†μ„±μ„ λ™μ‹μ— λ³΄μ¥ (1κ° ν…μ΄λΈ”μ μ—¬λ¬ ν›„λ³΄ν‚¤ μ΅΄μ¬ν•  μ μμ )

### π’΅ κΈ°λ³Έν‚¤
- ν›„λ³΄ν‚¤μ¤‘ ν•λ‚λ¥Ό μ„ μ •ν•μ—¬ λ€ν‘λ΅ μ‚Όλ” ν‚¤
- NULL λ¶κ°€λ¥, μ¤‘λ³µκ°’ X
- κΈ°λ³Έν‚¤ μ μ•½μ΅°κ±΄μ„ ν† ν•΄ κ°μ²΄ λ¬΄κ²°μ„± λ³΄μ¥

### π’΅ λ€μ²΄ν‚¤
- ν›„λ³΄ν‚¤ μ¤‘μ—μ„ κΈ°λ³Έν‚¤λ΅ μ„ μ •λμ§€ μ•μ€ λ‚λ¨Έμ§€ ν‚¤

### π’΅ μ™Έλν‚¤
- λ‹¤λ¥Έ ν…μ΄λΈ”μ κΈ°λ³Έν‚¤λ¥Ό μ°Έμ΅°ν•λ” ν‚¤ 
- ν…μ΄λΈ” κ°„μ κ΄€κ³„λ¥Ό ν‘ν„ν•¨ 
- μ°Έμ΅°ν•λ” ν‚¤κ°’(κΈ°λ³Έν‚¤)μ΄ ν…μ΄λΈ”μ— μ΅΄μ¬ν•΄μ•Ό ν•λ©°, λ¶€λ¨ ν…μ΄λΈ”μ— λ°μ΄ν„°κ°€ μμ–΄μ•Ό μμ‹ ν…μ΄λΈ”λ„ λ°μ΄ν„° μ…λ ¥μ΄ κ°€λ¥ν•¨
- λν•, μ‚­μ λ„ λ¶€λ¨ ν…μ΄λΈ”μ μ‚­μ  κ·μΉ™μ— λ”°λΌμ„ μμ‹ ν…μ΄λΈ”μ λ°μ΄ν„° μ‚­μ  λλ” κ°±μ‹ λ„ μ μ–΄λ¨  

β€» μ‚­μ  κ·μΉ™  
| κ·μΉ™         | μ„¤λ…                                                         | λ™μ‘ μμ‹                           |
|--------------|------------------------------------------------------------|----------------------------------|
| CASCADE      | λ¶€λ¨ ν–‰μ΄ μ‚­μ λλ©΄ μμ‹ ν…μ΄λΈ”μ μ°Έμ΅°ν•λ” λ¨λ“  ν–‰λ„ ν•¨κ» μ‚­μ λ¨ | λ¶€λ¨ ν–‰ μ‚­μ  μ‹ μμ‹ ν–‰ λ¨λ‘ μ‚­μ  |
| SET NULL     | λ¶€λ¨ ν–‰μ΄ μ‚­μ λλ©΄ μμ‹ ν…μ΄λΈ”μ μ™Έλν‚¤ μ»¬λΌ κ°’μ΄ NULLλ΅ λ³€κ²½λ¨ | λ¶€λ¨ ν–‰ μ‚­μ  μ‹ μμ‹ μ™Έλν‚¤ NULL  |
| RESTRICT     | μμ‹ ν…μ΄λΈ”μ— μ°Έμ΅° μ¤‘μΈ ν–‰μ΄ μμΌλ©΄ λ¶€λ¨ ν–‰ μ‚­μ κ°€ κ±°λ¶€λ¨       | μμ‹ λ μ½”λ“ μ΅΄μ¬ μ‹ λ¶€λ¨ μ‚­μ  λ¶κ°€ |
| NO ACTION    | RESTRICTμ™€ μ μ‚¬ν•λ©° κΈ°λ³Έκ°’. μμ‹ λ μ½”λ“ μ΅΄μ¬ μ‹ λ¶€λ¨ μ‚­μ  λ¶κ°€   | μμ‹ λ μ½”λ“ μ΅΄μ¬ μ‹ λ¶€λ¨ μ‚­μ  λ¶κ°€ |
| SET DEFAULT  | λ¶€λ¨ ν–‰ μ‚­μ  μ‹ μμ‹ μ™Έλν‚¤ μ»¬λΌμ΄ κΈ°λ³Έκ°’μΌλ΅ μ„¤μ •λ¨            | λ¶€λ¨ ν–‰ μ‚­μ  μ‹ μμ‹ μ™Έλν‚¤ κΈ°λ³Έκ°’ μ„¤μ • |


### π’΅ λ³µν•©ν‚¤
- λ‘ μ΄μƒμ μ»¬λΌμ„ μ΅°ν•©ν•μ—¬ λ§λ“  ν‚¤
- λ”μΌ μ»¬λΌλ§μΌλ΅ μ μΌμ„±μ΄ λ³΄μ¥ν•  μ μ—†μ„ λ• μ‚¬μ©


| ν‚¤ μΆ…λ¥   | μ μΌμ„± | μµμ†μ„± | NULL ν—μ© | λ³µμ κ°€λ¥ | νΉμ§• λ° μ„¤λ… |
|-----------|-------|--------|-----------|-----------|-------------|
| μνΌν‚¤    | O     | X      | O         | O         | μ μΌμ„±μ„ κ°€μ§„ μ†μ„± λλ” μ†μ„±λ“¤μ μ§‘ν•©. λ¶ν•„μ”ν• μ†μ„± ν¬ν•¨ κ°€λ¥. |
| ν›„λ³΄ν‚¤    | O     | O      | O         | O         | μνΌν‚¤ μ¤‘ μµμ†μ„±μ„ λ§μ΅±ν•λ” ν‚¤. μ μΌμ„±κ³Ό μµμ†μ„±μ„ λ¨λ‘ κ°€μ§. |
| κΈ°λ³Έν‚¤    | O     | O      | X         | X         | ν›„λ³΄ν‚¤ μ¤‘ ν•λ‚λ¥Ό λ€ν‘λ΅ μ„ νƒ. NULL κ°’κ³Ό μ¤‘λ³µ λ¶κ°€. |
| λ€μ²΄ν‚¤    | O     | O      | O         | O         | ν›„λ³΄ν‚¤μ΄μ§€λ§ κΈ°λ³Έν‚¤λ΅ μ„ νƒλμ§€ μ•μ€ ν‚¤. |
| μ™Έλν‚¤    | λ¶€λ¶„ κ°€λ¥ | X      | κ°€λ¥      | O         | λ‹¤λ¥Έ ν…μ΄λΈ” κΈ°λ³Έν‚¤λ¥Ό μ°Έμ΅°ν•λ” ν‚¤. μ°Έμ΅° λ¬΄κ²°μ„± μ μ§€μ— μ‚¬μ©. |
| λ³µν•©ν‚¤    | O     | O      | NULL μ»¬λΌ μ—†μΌλ©΄ λ¶κ°€ | O | λ‘ κ° μ΄μƒμ μ»¬λΌμ„ μ΅°ν•©ν•΄ λ§λ“  ν‚¤. λ‹¨μΌ μ»¬λΌμΌλ΅ μ μΌμ„± ν™•λ³΄ λ¶κ°€ μ‹ μ‚¬μ©. |

--- 
## π‘ ν‚¤ μ„ νƒ μ‹ κ³ λ ¤μ‚¬ν•­
- λΉ„μ¦λ‹μ¤ κ΄€μ μ—μ„ μμ†μ„± μκ² μ μ§€λ  μ μλ” μ†μ„± μ„ νƒν•΄μ•Όν•¨
- λ³€κ²½ κ°€λ¥μ„±μ΄ μ κ³ , κ°’μ΄ μ¤‘λ³µλμ§€ μ•λ” μ†μ„±
- ν‚¤κ°€ λ„λ¬΄ λ§κ±°λ‚ ν¬λ©΄ μ„±λ¥ μ €ν• μ”μΈμ΄ λ  μ μμΌλ―€λ΅ μµμ†μ„± μ μ§€ν•΄μ•Όν•¨ 


## β“ QnA

### π™‹β€β™‚οΈ κΈ°λ³Έν‚¤λ” μμ •μ΄ κ°€λ¥ν•κ°€μ”?
π’ μ›μΉ™μ μΌλ΅λ” μμ •ν•μ§€ μ•λ” κ²ƒμ„ κ¶μ¥. μ™λƒλ©΄ ν•΄λ‹Ή κ°’μ΄ λ³€κ²½λλ©΄ λ°μ΄ν„° λ¬΄κ²°μ„±κ³Ό μ°Έμ΅° λ¬΄κ²°μ„±μ— μν–¥μ„ μ¤„ μ μκΈ°μ—<br>
ν•μ§€λ§, κΈ°μ μ μΌλ΅λ” μμ •μ΄ κ°€λ¥ν•λ‹¤
-  μμ •μ΅°κ±΄ 1
    > μμ •ν•λ ¤λ” κ°’μ΄ κΈ°μ΅΄μ— μ—†λ” μƒλ΅μ΄ κ°’(μ μΌμ„± λ³΄μ¥)
-  μμ •μ΅°κ±΄ 2
    > μμ •ν•λ ¤λ” κ°’μ΄ nullμ΄ μ•„λ‹ κ²ƒ
- μμ •μ΅°κ±΄ 3 
    > ν•΄λ‹Ή κΈ°λ³Έν‚¤λ¥Ό μ°Έμ΅°ν•λ” μ™Έλν‚¤κ°€ μ—†κ±°λ‚, μ™Έλν‚¤μ μ μ•½μ΅°κ±΄μ΄ on update cascade μΈ κ²½μ° (μ—°μ‡„ κ°±μ‹ )  

### π™‹β€β™‚οΈ  μ‚¬μ‹¤ MySQLμ κ²½μ°, κΈ°λ³Έν‚¤λ¥Ό μ„¤μ •ν•μ§€ μ•μ•„λ„ ν…μ΄λΈ”μ΄ λ§λ“¤μ–΄μ§‘λ‹λ‹¤. μ–΄λ–»κ² μ΄κ² κ°€λ¥ν• κ±ΈκΉμ”?
π’ MySQLμ€ κΈ°λ³Έν‚¤ μ„¤μ •μ΄ ν•„μ μ΅°κ±΄μ΄ μ•„λ‹λΌμ„ κΈ°λ³Έν‚¤ μ—†μ΄ ν…μ΄λΈ” μƒμ„±μ΄ κ°€λ¥ν•¨ <br>


### π™‹β€β™‚οΈ  μ™Έλν‚¤ κ°’μ€ NULLμ΄ λ“¤μ–΄μ¬ μ μλ‚μ”?
π’ μ°Έμ΅°ν•λ” κ°’μ΄ μ—†μμ„ λ‚νƒ€λ‚΄κΈ° μ„ν•΄ NULL κ°’μ„ ν—μ©ν•λ” κ²½μ°κ°€ λ§μ <br>
μλ¥Ό λ“¤μ–΄, μμ‹ ν…μ΄λΈ”μ΄ μ•„μ§ λ¶€λ¨ λ μ½”λ“λ¥Ό μ°Έμ΅°ν•μ§€ μ•λ” μ„ νƒμ  κ΄€κ³„ (μµμ…”λ„ κ΄€κ³„)λ¥Ό ν‘ν„ν•  λ• μ λ¦¬ <br>
μ™Έλν‚¤ μ μ•½ μ΅°κ±΄μ— set nullμ„ ν•λ©΄ λ¶€λ¨ ν…μ΄λΈ”μ κΈ°λ³Έν‚¤ κ°’μ΄ μ‚­μ λ  λ•, ν•΄λ‹Ή κ°’μ€ nullμΌλ΅ μλ™ λ³€κ²½


### π™‹β€β™‚οΈ  μ–΄λ–¤ μΉΌλΌμ μ •μμ— UNIQUE ν‚¤μ›λ“κ°€ λ¶™λ”λ‹¤κ³  κ°€μ •ν•΄ λ΄…μ‹λ‹¤. μ΄ μΉΌλΌμ„ ν™μ©ν• μΏΌλ¦¬μ μ„±λ¥μ€ κ·Έλ ‡μ§€ μ•μ€ κ²ƒκ³Ό λΉ„κµν•΄μ„ μ–΄λ–»κ² λ‹¤λ¥ΌκΉμ”?
π’ UNIQUE ν‚¤μ›λ“λ¥Ό λ¶€μ—¬ν•λ©΄ μλ™μΌλ΅ UNIQUE INDEXκ°€ μƒμ„±λλ‹¤. <br>
μ¦‰, UNIQUE μΈλ±μ¤λ¥Ό κ°€μ§„ μ»¬λΌμ„ μ΅°ν(SELECT)ν•  λ• <U>μ„±λ¥μ€ κ°μ„ </U>λ¨. <br>
ν•μ§€λ§, INSERT/DELETE μ‘μ—… μ‹, μ¤‘λ³µ μ²΄ν¬ κ³Όμ •μ΄ ν•„μ”ν•μ—¬ <U>μ„±λ¥μ €ν•</U> λ°μƒ

### π™‹β€β™‚οΈ  κΈ°λ³Έν‚¤λ” μΈλ±μ¤λΌκ³  ν•  μ μμ„κΉμ”? κ·Έλ ‡μ§€ μ•λ‹¤λ©΄, μΈλ±μ¤μ™€ κΈ°λ³Έν‚¤λ” μ–΄λ–¤ μ°¨μ΄κ°€ μλ‚μ”?
π’ κΈ°λ³Έν‚¤λ” μ μΌν•κ³  NULL λ¶κ°€ν• μ»¬λΌμ— λ¶€μ—¬ν•λ” μ μ•½μ΅°κ±΄μ΄λ©°, μ΄ μ μ•½μ„ ν¨μ¨μ μΌλ΅ κµ¬ν„ν•κΈ° μ„ν•΄ DBMSκ°€ μλ™μΌλ΅ μΈλ±μ¤λ¥Ό μƒμ„±ν•¨. (μ¦‰, κΈ°λ³Έν‚¤λ” μΈλ±μ¤μ¤)
 <br>
μ°¨μ΄μ 

| κµ¬λ¶„       | κΈ°λ³Έν‚¤ (Primary Key)                             | μΈλ±μ¤ (Index)                               |
|------------|-------------------------------------------------|----------------------------------------------|
| κ°λ…       | ν…μ΄λΈ”μ κ° ν–‰μ„ **μ μΌν•κ² μ‹λ³„**ν•λ” μ†μ„± λλ” μ†μ„±λ“¤μ μ§‘ν•© (λ…Όλ¦¬μ  μ μ•½μ΅°κ±΄) | ν…μ΄λΈ” λ‚΄ λ°μ΄ν„°λ¥Ό λΉ λ¥΄κ² μ°ΎκΈ° μ„ν• **λ¬Όλ¦¬μ  μλ£κµ¬μ΅°** |
| κ³ μ μ„±     | λ°λ“μ‹ μ μΌν• κ°’μ΄μ–΄μ•Ό ν•λ©°, NULL κ°’ ν—μ©ν•μ§€ μ•μ | κ³ μ  μΈλ±μ¤λ” μ¤‘λ³µ λ¶κ°€, μΌλ° μΈλ±μ¤λ” μ¤‘λ³µ ν—μ© κ°€λ¥       |
| μλ™ μƒμ„±  | κΈ°λ³Έν‚¤λ΅ μ§€μ •ν•λ©΄ DBMSκ°€ **μλ™μΌλ΅ μ λ‹ν¬ μΈλ±μ¤ μƒμ„± λ° κ΄€λ¦¬**         | μ‚¬μ©μκ°€ λ…μ‹μ μΌλ΅ μƒμ„±. κΈ°λ³Έν‚¤κ°€ μμΌλ©΄ κΈ°λ³Έν‚¤κ°€ ν΄λ¬μ¤ν„°ν• μΈλ±μ¤ μ—­ν• μ„ ν•¨ |
| ν΄λ¬μ¤ν„°λ§ | (MySQL InnoDB λ“±) κΈ°λ³Έν‚¤λ” **ν΄λ¬μ¤ν„°ν• μΈλ±μ¤**λ΅, λ°μ΄ν„° λ μ½”λ“κ°€ μΈλ±μ¤μ— ν¬ν•¨λ¨ | μΌλ° μΈλ±μ¤λ” **λ³΄μ΅° μΈλ±μ¤**λ΅, λ¦¬ν”„ λ…Έλ“μ— κΈ°λ³Έν‚¤ κ°’μ„ μ €μ¥ν•΄ κΈ°λ³Έν‚¤ μΈλ±μ¤λ¥Ό μ°Έμ΅°ν•¨ |
| μ—­ν•        | λ°μ΄ν„° λ¬΄κ²°μ„± λ³΄μ¥ λ° κ³ μ  μ‹λ³„μ μ—­ν•                   | λ°μ΄ν„° κ²€μƒ‰ μ„±λ¥ ν–¥μƒ                              |



####  π™‹β€β™‚οΈ  κ·Έλ ‡λ‹¤λ©΄ μ™Έλν‚¤λ”μ”?
π’ μ™Έλν‚¤λ” μ°Έμ΅° λ¬΄κ²°μ„± λ° κ΄€κ³„ μ„¤μ •μ„ μ„ν•΄ μ΅΄μ¬ν•λ©°, λ°λ“μ‹ μΈλ±μ¤λ¥Ό κ°€μ§€λ” κ²ƒμ€ μ•„λ‹μ§€λ§, μ„±λ¥μ„ μ„ν•΄ μ¶”κ°€ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.